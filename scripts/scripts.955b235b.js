"use strict";function Day(a,b){this.getName=function(){return a.toDateString()},this.getEvents=function(){return b}}angular.module("calendarApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ngTouch"]).config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/cal.html"}).when("/about",{templateUrl:"views/about.html",controller:"AboutCtrl"}).otherwise({redirectTo:"/"})}]),angular.module("calendarApp").controller("LayoutCtrl",["$scope","$rootScope",function(a,b){b.$on("$routeChangeSuccess",function(b,c){a.aboutActive="/about"===c.originalPath,a.homeActive=!a.aboutActive})}]),angular.module("calendarApp").controller("CalCtrl",["$scope","week","events",function(a,b,c){function d(){a.currentDate=e,a.days=[];for(var b=0;7>b;b++)a.days[b]=new Day(f[b],c.getEventsForDay(f[b]))}a.prevWeek=function(){e.setDate(e.getDate()-7),f=b.getDays(e),d()},a.nextWeek=function(){e.setDate(e.getDate()+7),f=b.getDays(e),d()};var e=new Date,f=b.getDays(e);d()}]),angular.module("calendarApp").controller("AboutCtrl",["$scope",function(a){a.awesomeThings=["HTML5 Boilerplate","AngularJS","Karma"]}]),angular.module("calendarApp").factory("week",function(){function a(a){return(a+6)%7}return{getDays:function(b){var c=[];null!==b&&b instanceof Date||(b=new Date);for(var d,e=a(b.getDay()),f=0;7>f;f++)d=a(f),c[d]=new Date(b.getTime()+864e5*(d-e));return c}}}),angular.module("calendarApp").factory("events",function(){function a(a,b,c){var d=100,e=0;this.getStartDate=function(){return a},this.getEndDate=function(){return b},this.getTitle=function(){return c},this.getPercentHeight=function(){return 100*(b-a)/864e5},this.getPercentTop=function(){return 100*(60*a.getHours()+a.getMinutes())/1440},this.getPercentWidth=function(){return d},this.setPercentWidth=function(a){d=a},this.getPercentLeft=function(){return e},this.setPercentLeft=function(a){e=a},this.getZindex=function(){return 1}}function b(){var b=[new a(new Date(2015,0,26,9,30),new Date(2015,0,26,14,0),"Al Di Meola"),new a(new Date(2015,0,27,9,15),new Date(2015,0,27,12,30),"Paco De Lucia"),new a(new Date(2015,0,30,10,0),new Date(2015,0,30,13,30),"John McLaughlin"),new a(new Date(2015,0,30,11,0),new Date(2015,0,30,15,0),"Django Reinhardt"),new a(new Date(2015,0,30,15,30),new Date(2015,0,30,18,0),"Django Reinhardt4"),new a(new Date(2015,0,30,12,0),new Date(2015,0,30,16,30),"Django Reinhardt3"),new a(new Date(2015,0,30,11,30),new Date(2015,0,30,12,30),"Django Reinhardt2"),new a(new Date(2015,0,30,19,30),new Date(2015,0,30,20,0),"Django Reinhardt5")];return b}function c(a){if(0!==a.length){a.sort(function(a,b){return a.getStartDate()-b.getStartDate()});var b=[[a[0]]],c=a[0].getEndDate();a.forEach(function(a,d){if(d>0)if(c>a.getStartDate())b[b.length-1].push(a),c=c.getTime()>a.getEndDate().getTime()?c:a.getEndDate();else{var e=100/b[b.length-1].length;b[b.length-1].forEach(function(a,b){a.setPercentWidth(e),a.setPercentLeft(b*e)}),c=a.getEndDate(),b.push([a])}})}}return{getEventsForDay:function(a){for(var d=b(),e=[],f=0;f<d.length;f++)(d[f].getStartDate().toDateString()===a.toDateString()||d[f].getEndDate().toDateString()===a.toDateString())&&e.push(d[f]);return c(e),e}}});